<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>文档</title>
  <link href="./css/semantic/semantic.min.css" rel="stylesheet">
  <link href="./css/oscTree.css" rel="stylesheet">
  <link href="./css/markdown.css" rel="stylesheet">
  <link href="./css/index.css" rel="stylesheet">
</head>
<body>
  <div class="ui container">
    <div id="project-title">
      <div class="title-wrap">
        <div class="left">
          <i class="icon eye"></i>
          文档预览:
          <span id="preview-title"></span>
        </div>
        <div class="right">
          Export by Gitee
        </div>
      </div>
    </div>

    <div class="ui container" id="wiki-preview-container">
      <div id="wiki-preview">
        <div class="ui segment">
          <div class="ui grid page">
            <div class="three wide column doc-list">
              <div class="title">
                <a id="ex-all">
                  收缩全部章节
                </a>
              </div>
              <div class="ztree" id="tree"></div>
            </div>
            <div class="thirteen wide column doc-content">
              <div id="page-detail">
                <div class="title">
                </div>
                <div class="content markdown-body">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
  </div>
</body>
</html>
<script src="./js/jquery.min.js"></script>
<script src="./js/ztree.all.js"></script>
<script src="./js/jquery.ztree.exhide.min.js"></script>
<script>
  var zTreeObj;var expandStatus=true;$(document).ready(function(){var setting={view:{showLine:true,showIcon:true},callback:{onClick:function(e,treeId,treeNode){if(treeNode!==null&&!treeNode.isParent&&typeof(treeNode.children)==="undefined"){var sort_id=treeNode.sort_id;var content=json_data.content;for(var c in content){if(c==sort_id){$("#page-detail .title").html(treeNode.name);$("#page-detail .content").html(content[c]);return false}}}else{zTreeObj.expandNode(treeNode)}}},data:{simpleData:{enable:true}}};zTreeObj=$.fn.zTree.init($("#tree"),setting,json_data.title);var first_content=json_data.title[0];$("#page-detail .title").html(first_content.name);$("#page-detail .content").html(json_data.content[first_content.sort_id]);$("#preview-title").html(json_data.preview_title);$("#ex-all").on("click",function(e){zTreeObj.expandAll(!expandStatus);expandStatus=!expandStatus;if(expandStatus){$(this).text("收缩全部章节")}else{$(this).text("展开全部章节")}})});
</script><script>var json_data = {"preview_title":"newyear2020","title":[{"id":"000000000000Home","pId":0,"name":"Home","parent":null,"order":0,"sort_id":1789264,"extname":".md","isParent":false,"isHidden":false,"content":"\u003Ch1\u003E\n\u003Ca id=\"接口说明\" class=\"anchor\" href=\"#%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E\"\u003E\u003C/a\u003E接口说明\u003C/h1\u003E\n\u003Chr\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E测试接口域名：\u003Ca href=\"http://h5.heniw.com/newyear2019/\"\u003Ehttp://h5.heniw.com/newyear2019/\u003C/a\u003E\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E正式接口域名：\u003Ca href=\"http://h5.heniw.com/newyear2019/\"\u003Ehttp://h5.heniw.com/newyear2019/\u003C/a\u003E\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口中HOST 指上面域名路径\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口均为json格式，get接口支持jsonp\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口请求中说明（需登录）接口均有可能返回1001未登录错误码\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Ch3\u003E\n\u003Ca id=\"接口基本结构\" class=\"anchor\" href=\"#%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84\"\u003E\u003C/a\u003E接口基本结构\u003C/h3\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E{\n    \"status\":200,  //接口状态码\n    \"msg\":“提示信息”,  //提示信息\n    \"data\":[ ]  //接口数据值\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"常用错误码status取值\" class=\"anchor\" href=\"#%E5%B8%B8%E7%94%A8%E9%94%99%E8%AF%AF%E7%A0%81status%E5%8F%96%E5%80%BC\"\u003E\u003C/a\u003E常用错误码status取值\u003C/h3\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003E值\u003C/th\u003E\n\u003Cth\u003E描述\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E200\u003C/td\u003E\n\u003Ctd\u003E接口请求成功\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E-1\u003C/td\u003E\n\u003Ctd\u003E错误 msg为错误提示信息\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E-2\u003C/td\u003E\n\u003Ctd\u003E图片验证码错误\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E1001\u003C/td\u003E\n\u003Ctd\u003E未登录错误码(涉及到用户需登录的接口均可能返回)\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E"},{"id":"000000000000公共接口","pId":0,"name":"公共接口","parent":null,"order":1,"sort_id":1789265,"extname":".md","isParent":false,"isHidden":false,"content":"\u003Ch3\u003E\n\u003Ca id=\"公共接口\" class=\"anchor\" href=\"#%E5%85%AC%E5%85%B1%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E公共接口\u003C/h3\u003E\n\u003Chr\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E包含微信jssdk等接口；\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Ch3\u003E\n\u003Ca id=\"微信jssdk接口\" class=\"anchor\" href=\"#%E5%BE%AE%E4%BF%A1jssdk%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E微信jssdk接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/weixin/jssdk\u003C/li\u003E\n\u003Cli\u003E请求方式：get\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E接口返回：json/jsonp\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E//返回jssdk wx.config内除jsApiList的所有参数，前端可根据接口需要自行添加方法\n{\n  \"status\": 200,\n  \"msg\": \"success\",\n  \"data\": {\n    \"appId\": \"wx02cc7021a3c55e5e\",\n    \"timestamp\": \"1494847359\",\n    \"nonceStr\": \"O7MMoxeJVu\",\n    \"signature\": \"31e09f5c0d04c89b98b8b345dc832a60c7572a6d\"\n  }\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"事件上报接口\" class=\"anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E4%B8%8A%E6%8A%A5%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E事件上报接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求地址：\u003Ca href=\"http://HOST/event/do\"\u003Ehttp://HOST/event/do\u003C/a\u003E\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求方式：get\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求参数：\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003Euid 用户uid\u003C/li\u003E\n\u003Cli\u003Eact 事件动作（说明如下）\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E事件取值待定\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求说明：\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E前端只需请求一次接口，无需关注返回结果；\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"活动信息接口\" class=\"anchor\" href=\"#%E6%B4%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E活动信息接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/vote/info\u003C/li\u003E\n\u003Cli\u003E请求参数：\n无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003Cli\u003E需要用户活动结束时间，开奖页面使用，需要用到分享信息\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E"},{"id":"000000000000用户相关接口","pId":0,"name":"用户相关接口","parent":null,"order":2,"sort_id":1789275,"extname":".md","isParent":false,"isHidden":false,"content":"\u003Ch3\u003E\n\u003Ca id=\"用户登录接口\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E用户登录接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E跳转地址：HOST+/auth/login?returnUrl=回跳前端地址（http开头）\u003C/li\u003E\n\u003Cli\u003E登录说明：\n\u003Cul\u003E\n\u003Cli\u003E前端请求接口遇到status错误码为1001(用户未登录)时，将登录成功回跳的url encodeURI 作为returnUrl参数跳转到上面地址，后端在完成微信登录后会回跳到returnUrl , 若不传returnUrl,后端会取请求来路的地址为回跳地址。\u003C/li\u003E\n\u003Cli\u003E在页面跳转过程中，后端会完成登录并保存用户信息到cookie中\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"用户个人详细信息接口需登录\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E4%B8%AA%E4%BA%BA%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E6%8E%A5%E5%8F%A3%E9%9C%80%E7%99%BB%E5%BD%95\"\u003E\u003C/a\u003E用户个人详细信息接口(需登录)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/user/info\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E//未登录返回\n{\n    'status':1001,  //状态码（任意接口出现1001都必须执行登录流程！！！）\n    'msg':'用户未登录',  //提示信息\n    'data':''\n}\n\n//已登录返回\n{\nstatus: 200,\nmsg: \"success\",\ndata: {\n   uid:1, //用户uid\n   subscribe: 1,  //是否关注（忽略）\n   headimgurl: \"http://wx.qlogo.cn/mmopen/coGA1E1ZLr7F2hRwqVaiaz8iaYfV4oS58PpQKib3iakCK0MEoByRlDE05AfxPu8Qt75ybRv3tA8MW2qZAaWZc2v51WRicXNoOsxqt/0\",  //头像地址\n   nickname: \"wesley wu\",  //昵称\n   votes:10,  //用户可投掷次数\n   mark:\"\"  //前端游戏记录  \n}\n}\n\u003C/code\u003E\u003C/pre\u003E"},{"id":"000000000000游戏相关接口","pId":0,"name":"游戏相关接口","parent":null,"order":3,"sort_id":1789281,"extname":".md","isParent":false,"isHidden":false,"content":"\u003Ch3\u003E\n\u003Ca id=\"游戏开始接口\" class=\"anchor\" href=\"#%E6%B8%B8%E6%88%8F%E5%BC%80%E5%A7%8B%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E游戏开始接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/game/start\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascrpt\" class=\"javascrpt\"\u003E\u003Ccode\u003E{\nstatus: 200,  //状态码。若次数不够会有提示信息在msg中\nmsg: \"success\",\ndata: { //活动信息\nid: \"kw1GWP2oi5Rl\",   //游戏id  游戏结束和抽奖接口需要提交\n}\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"游戏结束接口\" class=\"anchor\" href=\"#%E6%B8%B8%E6%88%8F%E7%BB%93%E6%9D%9F%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E游戏结束接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/game/end\u003C/li\u003E\n\u003Cli\u003E请求参数：\n\u003Cul\u003E\n\u003Cli\u003Eid  游戏id\u003C/li\u003E\n\u003Cli\u003Emark 用户当前游戏状态  请传递字符串，服务端在user/info接口下发游戏状态\u003C/li\u003E\n\u003Cli\u003EisAdd 是否增加游戏次数  如果要增加游戏次数 isAdd传递1\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003Cli\u003E接口返回200表示成功，非200表示失败\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"抽奖接口在gameend后可抽奖\" class=\"anchor\" href=\"#%E6%8A%BD%E5%A5%96%E6%8E%A5%E5%8F%A3%E5%9C%A8gameend%E5%90%8E%E5%8F%AF%E6%8A%BD%E5%A5%96\"\u003E\u003C/a\u003E抽奖接口(在game/end后可抽奖)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/lottery\u003C/li\u003E\n\u003Cli\u003E请求参数：\n\u003Cul\u003E\n\u003Cli\u003Eid 游戏中game/start  返回的id字符串\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，已中奖，其他表示失败，若中奖了data中会返回  userGiftId\u0026gt;0表示中奖\u003C/li\u003E\n\u003Cli\u003E为保证程序运行 status=2003表示谢谢参与\u003C/li\u003E\n\u003Cli\u003E每个id只能抽奖一次\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E{\n  status:200,\n  msg:\"success\",\n  data:{\n     userGiftId:10,  //使用该值可用户奖品领取接口，和填写表单接口\n     giftInfo:{\n        giftId:1,  //奖品id\n        name:\"门票\", //奖品门票\n        image:\"http://image.jpg\",  //奖品图片\n        type:1 //奖品类型  1为实物，需要填写表单，2为卡券需用jssdk调起领取卡券\n     },\n     cardInfo:{\n        cardId:\"\",  //微信卡券id，type=2时有值\n        cardExt:{},  //调起微信卡券需要参数\n     }\n  }\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"兑换奖品接口实物在填写信息时请求卡券在用户领取卡券时请求\" class=\"anchor\" href=\"#%E5%85%91%E6%8D%A2%E5%A5%96%E5%93%81%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%89%A9%E5%9C%A8%E5%A1%AB%E5%86%99%E4%BF%A1%E6%81%AF%E6%97%B6%E8%AF%B7%E6%B1%82%E5%8D%A1%E5%88%B8%E5%9C%A8%E7%94%A8%E6%88%B7%E9%A2%86%E5%8F%96%E5%8D%A1%E5%88%B8%E6%97%B6%E8%AF%B7%E6%B1%82\"\u003E\u003C/a\u003E兑换奖品接口（实物在填写信息时请求，卡券在用户领取卡券时请求）\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/success\u003C/li\u003E\n\u003Cli\u003E请求参数：\nname  姓名(实物奖品传递)\nmobile  手机号(实物奖品传递)\nemail 邮箱(实物奖品传递)\nuserGiftId  用户奖品id  在gift/lottery会返回  在 gift/list 也会返回\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"用户奖品列表接口\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E5%A5%96%E5%93%81%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E用户奖品列表接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/list\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003Cli\u003E返回用户所有中奖记录  其中status表示是否提交；0表示未提交表单；2表示已提交表单\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"卡券奖品拉取微信卡券在奖品列表通过usergiftid拉取未领取的卡券\" class=\"anchor\" href=\"#%E5%8D%A1%E5%88%B8%E5%A5%96%E5%93%81%E6%8B%89%E5%8F%96%E5%BE%AE%E4%BF%A1%E5%8D%A1%E5%88%B8%E5%9C%A8%E5%A5%96%E5%93%81%E5%88%97%E8%A1%A8%E9%80%9A%E8%BF%87usergiftid%E6%8B%89%E5%8F%96%E6%9C%AA%E9%A2%86%E5%8F%96%E7%9A%84%E5%8D%A1%E5%88%B8\"\u003E\u003C/a\u003E卡券奖品拉取微信卡券(在奖品列表通过userGiftId拉取未领取的卡券)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/get\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003E返回与/gift/lottery返回一致\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E"}],"content":{"1789264":"\u003Ch1\u003E\n\u003Ca id=\"接口说明\" class=\"anchor\" href=\"#%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E\"\u003E\u003C/a\u003E接口说明\u003C/h1\u003E\n\u003Chr\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E测试接口域名：\u003Ca href=\"http://h5.heniw.com/newyear2019/\"\u003Ehttp://h5.heniw.com/newyear2019/\u003C/a\u003E\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E正式接口域名：\u003Ca href=\"http://h5.heniw.com/newyear2019/\"\u003Ehttp://h5.heniw.com/newyear2019/\u003C/a\u003E\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口中HOST 指上面域名路径\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口均为json格式，get接口支持jsonp\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E接口请求中说明（需登录）接口均有可能返回1001未登录错误码\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Ch3\u003E\n\u003Ca id=\"接口基本结构\" class=\"anchor\" href=\"#%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84\"\u003E\u003C/a\u003E接口基本结构\u003C/h3\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E{\n    \"status\":200,  //接口状态码\n    \"msg\":“提示信息”,  //提示信息\n    \"data\":[ ]  //接口数据值\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"常用错误码status取值\" class=\"anchor\" href=\"#%E5%B8%B8%E7%94%A8%E9%94%99%E8%AF%AF%E7%A0%81status%E5%8F%96%E5%80%BC\"\u003E\u003C/a\u003E常用错误码status取值\u003C/h3\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003E值\u003C/th\u003E\n\u003Cth\u003E描述\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E200\u003C/td\u003E\n\u003Ctd\u003E接口请求成功\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E-1\u003C/td\u003E\n\u003Ctd\u003E错误 msg为错误提示信息\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E-2\u003C/td\u003E\n\u003Ctd\u003E图片验证码错误\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E1001\u003C/td\u003E\n\u003Ctd\u003E未登录错误码(涉及到用户需登录的接口均可能返回)\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E","1789265":"\u003Ch3\u003E\n\u003Ca id=\"公共接口\" class=\"anchor\" href=\"#%E5%85%AC%E5%85%B1%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E公共接口\u003C/h3\u003E\n\u003Chr\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E包含微信jssdk等接口；\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Ch3\u003E\n\u003Ca id=\"微信jssdk接口\" class=\"anchor\" href=\"#%E5%BE%AE%E4%BF%A1jssdk%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E微信jssdk接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/weixin/jssdk\u003C/li\u003E\n\u003Cli\u003E请求方式：get\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E接口返回：json/jsonp\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E//返回jssdk wx.config内除jsApiList的所有参数，前端可根据接口需要自行添加方法\n{\n  \"status\": 200,\n  \"msg\": \"success\",\n  \"data\": {\n    \"appId\": \"wx02cc7021a3c55e5e\",\n    \"timestamp\": \"1494847359\",\n    \"nonceStr\": \"O7MMoxeJVu\",\n    \"signature\": \"31e09f5c0d04c89b98b8b345dc832a60c7572a6d\"\n  }\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"事件上报接口\" class=\"anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E4%B8%8A%E6%8A%A5%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E事件上报接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求地址：\u003Ca href=\"http://HOST/event/do\"\u003Ehttp://HOST/event/do\u003C/a\u003E\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求方式：get\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求参数：\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003Euid 用户uid\u003C/li\u003E\n\u003Cli\u003Eact 事件动作（说明如下）\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E事件取值待定\u003C/p\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cp\u003E请求说明：\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E前端只需请求一次接口，无需关注返回结果；\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"活动信息接口\" class=\"anchor\" href=\"#%E6%B4%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E活动信息接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/vote/info\u003C/li\u003E\n\u003Cli\u003E请求参数：\n无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003Cli\u003E需要用户活动结束时间，开奖页面使用，需要用到分享信息\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E","1789275":"\u003Ch3\u003E\n\u003Ca id=\"用户登录接口\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E用户登录接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E跳转地址：HOST+/auth/login?returnUrl=回跳前端地址（http开头）\u003C/li\u003E\n\u003Cli\u003E登录说明：\n\u003Cul\u003E\n\u003Cli\u003E前端请求接口遇到status错误码为1001(用户未登录)时，将登录成功回跳的url encodeURI 作为returnUrl参数跳转到上面地址，后端在完成微信登录后会回跳到returnUrl , 若不传returnUrl,后端会取请求来路的地址为回跳地址。\u003C/li\u003E\n\u003Cli\u003E在页面跳转过程中，后端会完成登录并保存用户信息到cookie中\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"用户个人详细信息接口需登录\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E4%B8%AA%E4%BA%BA%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E6%8E%A5%E5%8F%A3%E9%9C%80%E7%99%BB%E5%BD%95\"\u003E\u003C/a\u003E用户个人详细信息接口(需登录)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/user/info\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E//未登录返回\n{\n    'status':1001,  //状态码（任意接口出现1001都必须执行登录流程！！！）\n    'msg':'用户未登录',  //提示信息\n    'data':''\n}\n\n//已登录返回\n{\nstatus: 200,\nmsg: \"success\",\ndata: {\n   uid:1, //用户uid\n   subscribe: 1,  //是否关注（忽略）\n   headimgurl: \"http://wx.qlogo.cn/mmopen/coGA1E1ZLr7F2hRwqVaiaz8iaYfV4oS58PpQKib3iakCK0MEoByRlDE05AfxPu8Qt75ybRv3tA8MW2qZAaWZc2v51WRicXNoOsxqt/0\",  //头像地址\n   nickname: \"wesley wu\",  //昵称\n   votes:10,  //用户可投掷次数\n   mark:\"\"  //前端游戏记录  \n}\n}\n\u003C/code\u003E\u003C/pre\u003E","1789281":"\u003Ch3\u003E\n\u003Ca id=\"游戏开始接口\" class=\"anchor\" href=\"#%E6%B8%B8%E6%88%8F%E5%BC%80%E5%A7%8B%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E游戏开始接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/game/start\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascrpt\" class=\"javascrpt\"\u003E\u003Ccode\u003E{\nstatus: 200,  //状态码。若次数不够会有提示信息在msg中\nmsg: \"success\",\ndata: { //活动信息\nid: \"kw1GWP2oi5Rl\",   //游戏id  游戏结束和抽奖接口需要提交\n}\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"游戏结束接口\" class=\"anchor\" href=\"#%E6%B8%B8%E6%88%8F%E7%BB%93%E6%9D%9F%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E游戏结束接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/game/end\u003C/li\u003E\n\u003Cli\u003E请求参数：\n\u003Cul\u003E\n\u003Cli\u003Eid  游戏id\u003C/li\u003E\n\u003Cli\u003Emark 用户当前游戏状态  请传递字符串，服务端在user/info接口下发游戏状态\u003C/li\u003E\n\u003Cli\u003EisAdd 是否增加游戏次数  如果要增加游戏次数 isAdd传递1\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\u003C/li\u003E\n\u003Cli\u003E接口返回200表示成功，非200表示失败\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"抽奖接口在gameend后可抽奖\" class=\"anchor\" href=\"#%E6%8A%BD%E5%A5%96%E6%8E%A5%E5%8F%A3%E5%9C%A8gameend%E5%90%8E%E5%8F%AF%E6%8A%BD%E5%A5%96\"\u003E\u003C/a\u003E抽奖接口(在game/end后可抽奖)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/lottery\u003C/li\u003E\n\u003Cli\u003E请求参数：\n\u003Cul\u003E\n\u003Cli\u003Eid 游戏中game/start  返回的id字符串\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，已中奖，其他表示失败，若中奖了data中会返回  userGiftId\u0026gt;0表示中奖\u003C/li\u003E\n\u003Cli\u003E为保证程序运行 status=2003表示谢谢参与\u003C/li\u003E\n\u003Cli\u003E每个id只能抽奖一次\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cpre lang=\"javascript\" class=\"javascript\"\u003E\u003Ccode\u003E{\n  status:200,\n  msg:\"success\",\n  data:{\n     userGiftId:10,  //使用该值可用户奖品领取接口，和填写表单接口\n     giftInfo:{\n        giftId:1,  //奖品id\n        name:\"门票\", //奖品门票\n        image:\"http://image.jpg\",  //奖品图片\n        type:1 //奖品类型  1为实物，需要填写表单，2为卡券需用jssdk调起领取卡券\n     },\n     cardInfo:{\n        cardId:\"\",  //微信卡券id，type=2时有值\n        cardExt:{},  //调起微信卡券需要参数\n     }\n  }\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch3\u003E\n\u003Ca id=\"兑换奖品接口实物在填写信息时请求卡券在用户领取卡券时请求\" class=\"anchor\" href=\"#%E5%85%91%E6%8D%A2%E5%A5%96%E5%93%81%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%89%A9%E5%9C%A8%E5%A1%AB%E5%86%99%E4%BF%A1%E6%81%AF%E6%97%B6%E8%AF%B7%E6%B1%82%E5%8D%A1%E5%88%B8%E5%9C%A8%E7%94%A8%E6%88%B7%E9%A2%86%E5%8F%96%E5%8D%A1%E5%88%B8%E6%97%B6%E8%AF%B7%E6%B1%82\"\u003E\u003C/a\u003E兑换奖品接口（实物在填写信息时请求，卡券在用户领取卡券时请求）\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/success\u003C/li\u003E\n\u003Cli\u003E请求参数：\nname  姓名(实物奖品传递)\nmobile  手机号(实物奖品传递)\nemail 邮箱(实物奖品传递)\nuserGiftId  用户奖品id  在gift/lottery会返回  在 gift/list 也会返回\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"用户奖品列表接口\" class=\"anchor\" href=\"#%E7%94%A8%E6%88%B7%E5%A5%96%E5%93%81%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3\"\u003E\u003C/a\u003E用户奖品列表接口\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/list\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003Estatus 200 表示成功，其他表示失败\u003C/li\u003E\n\u003Cli\u003E返回用户所有中奖记录  其中status表示是否提交；0表示未提交表单；2表示已提交表单\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3\u003E\n\u003Ca id=\"卡券奖品拉取微信卡券在奖品列表通过usergiftid拉取未领取的卡券\" class=\"anchor\" href=\"#%E5%8D%A1%E5%88%B8%E5%A5%96%E5%93%81%E6%8B%89%E5%8F%96%E5%BE%AE%E4%BF%A1%E5%8D%A1%E5%88%B8%E5%9C%A8%E5%A5%96%E5%93%81%E5%88%97%E8%A1%A8%E9%80%9A%E8%BF%87usergiftid%E6%8B%89%E5%8F%96%E6%9C%AA%E9%A2%86%E5%8F%96%E7%9A%84%E5%8D%A1%E5%88%B8\"\u003E\u003C/a\u003E卡券奖品拉取微信卡券(在奖品列表通过userGiftId拉取未领取的卡券)\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E接口地址：HOST+/gift/get\u003C/li\u003E\n\u003Cli\u003E请求参数：无\u003C/li\u003E\n\u003Cli\u003E请求方式：get/post\u003C/li\u003E\n\u003Cli\u003E请求返回：（json/jsonp）\n\u003Cul\u003E\n\u003Cli\u003E返回与/gift/lottery返回一致\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E"}}</script>